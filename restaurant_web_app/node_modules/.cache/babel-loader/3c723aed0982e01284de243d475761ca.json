{"ast":null,"code":"import _regeneratorRuntime from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/src/views/Pages/Login/Login.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { userActions } from '../../../actions';\nimport { connect } from 'react-redux';\n\nvar pathToBackground = require('../../../assets/img/bg.jpg');\n\nvar pathToLogo = require('../../../assets/img/logo.png');\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginPage, _Component);\n\n  function LoginPage(props) {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).call(this, props));\n    _this.state = {\n      email: '',\n      password: '',\n      submitted: false,\n      validated: false,\n      org: null\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"validate\",\n    value: function () {\n      var _validate = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var re;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.setState({\n                  validated: true\n                });\n                re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@(([[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n                if (!re.test(String(this.state.email).toLowerCase())) {\n                  _context.next = 6;\n                  break;\n                }\n\n                document.getElementById(\"inputEmail\").style.borderColor = \"green\";\n                _context.next = 10;\n                break;\n\n              case 6:\n                this.setState({\n                  validated: false\n                });\n                alert(\"Email formatted incorrectly!\");\n                document.getElementById(\"inputEmail\").style.borderColor = \"red\";\n                return _context.abrupt(\"return\", false);\n\n              case 10:\n                if (!(this.state.password.length > 5)) {\n                  _context.next = 14;\n                  break;\n                }\n\n                document.getElementById(\"inputPassword\").style.borderColor = \"green\";\n                _context.next = 18;\n                break;\n\n              case 14:\n                this.setState({\n                  validated: false\n                });\n                alert(\"Password not at least 6 characters long!\");\n                document.getElementById(\"inputPassword\").style.borderColor = \"red\";\n                return _context.abrupt(\"return\", false);\n\n              case 18:\n                return _context.abrupt(\"return\", true);\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function validate() {\n        return _validate.apply(this, arguments);\n      }\n\n      return validate;\n    }()\n  }, {\n    key: \"handleSubmit\",\n    value: function () {\n      var _handleSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(e) {\n        var _this$state, email, password, _this$props, dispatch, history, temp;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                e.preventDefault();\n                this.setState({\n                  submitted: true\n                });\n                _this$state = this.state, email = _this$state.email, password = _this$state.password;\n                _this$props = this.props, dispatch = _this$props.dispatch, history = _this$props.history;\n                _context2.next = 6;\n                return this.validate();\n\n              case 6:\n                temp = _context2.sent;\n\n                if (temp) {\n                  dispatch(userActions.login(email, password));\n\n                  if (localStorage.getItem('user') !== 'null') {\n                    history.push('/');\n                  } else {\n                    alert(\"Email or password entered incorrectly!\");\n                    document.getElementById(\"inputPassword\").style.borderColor = \"red\";\n                    document.getElementById(\"inputEmail\").style.borderColor = \"red\";\n                  }\n                }\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handleSubmit(_x) {\n        return _handleSubmit.apply(this, arguments);\n      }\n\n      return handleSubmit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loggingIn = this.props.loggingIn;\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          submitted = _this$state2.submitted;\n      return React.createElement(\"div\", {\n        className: \"split background\",\n        style: {\n          backgroundImage: \"url(\" + pathToBackground + \")\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"split left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"centered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"bgc-white bdrs-50p pos-r\",\n        style: {\n          width: 120,\n          height: 120\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"pos-a centerXY\",\n        src: pathToLogo,\n        width: \"150\",\n        height: \"150\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"split right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"centered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"form\", {\n        name: \"form\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: 'form-group' + (submitted && !email ? ' has-error' : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        id: \"inputEmail\",\n        type: \"text\",\n        className: \"form-control\",\n        name: \"email\",\n        value: email,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), submitted && !email && React.createElement(\"div\", {\n        className: \"help-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Email is required\")), React.createElement(\"div\", {\n        className: 'form-group' + (submitted && !password ? ' has-error' : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        id: \"inputPassword\",\n        type: \"password\",\n        className: \"form-control\",\n        name: \"password\",\n        value: password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), submitted && !password && React.createElement(\"div\", {\n        className: \"help-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Password is required\")), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Login\"), loggingIn && React.createElement(\"img\", {\n        alt: \"\",\n        src: \"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/register\",\n        className: \"btn btn-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Register\"))))));\n    }\n  }]);\n\n  return LoginPage;\n}(Component);\n\nvar Login = connect(null)(LoginPage);\nexport default Login;","map":{"version":3,"sources":["/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/src/views/Pages/Login/Login.js"],"names":["React","Component","Link","userActions","connect","pathToBackground","require","pathToLogo","LoginPage","props","state","email","password","submitted","validated","org","handleChange","bind","handleSubmit","e","target","name","value","setState","re","test","String","toLowerCase","document","getElementById","style","borderColor","alert","length","preventDefault","dispatch","history","validate","temp","login","localStorage","getItem","push","loggingIn","backgroundImage","width","height","Login"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { userActions } from '../../../actions';\r\nimport { connect } from 'react-redux';\r\n\r\nconst pathToBackground = require('../../../assets/img/bg.jpg');\r\nconst pathToLogo = require('../../../assets/img/logo.png');\r\n\r\nclass LoginPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      submitted: false,\r\n      validated: false,\r\n      org: null\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n    const { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  async validate() {\r\n    this.setState({ validated: true });\r\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@(([[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    if (re.test(String(this.state.email).toLowerCase())) {\r\n      document.getElementById(\"inputEmail\").style.borderColor = \"green\";\r\n    }\r\n    else {\r\n      this.setState({ validated: false });\r\n      alert(\"Email formatted incorrectly!\");\r\n      document.getElementById(\"inputEmail\").style.borderColor = \"red\";\r\n      return false;\r\n    }\r\n    if (this.state.password.length > 5) {\r\n      document.getElementById(\"inputPassword\").style.borderColor = \"green\";\r\n    }\r\n    else {\r\n      this.setState({ validated: false });\r\n      alert(\"Password not at least 6 characters long!\");\r\n      document.getElementById(\"inputPassword\").style.borderColor = \"red\";\r\n      return false;\r\n    }\n    return true;\r\n  }\r\n\r\n\r\n  async handleSubmit(e) {\r\n    e.preventDefault();\r\n    this.setState({ submitted: true });\r\n    const { email, password } = this.state;\r\n    const { dispatch, history } = this.props;\n    var temp = await this.validate();\r\n    if (temp) {\r\n      dispatch(userActions.login(email, password));\n      if (localStorage.getItem('user') !== 'null') {\n        history.push('/');\r\n      }\n      else {\r\n        alert(\"Email or password entered incorrectly!\");\r\n        document.getElementById(\"inputPassword\").style.borderColor = \"red\";\r\n        document.getElementById(\"inputEmail\").style.borderColor = \"red\";\r\n      }\r\n    }\r\n\r\n  }\r\n  render() {\r\n    const { loggingIn } = this.props;\r\n    const { email, password, submitted } = this.state;\r\n    return (\r\n      <div className=\"split background\" style={{ backgroundImage: \"url(\" + pathToBackground + \")\" }}>\r\n        <div className=\"split left\">\r\n          <div className=\"centered\">\r\n            <div className=\"bgc-white bdrs-50p pos-r\" style={{ width: 120, height: 120 }}>\r\n              <img className=\"pos-a centerXY\" src={pathToLogo} width=\"150\" height=\"150\" alt=\"\"/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"split right\">\r\n          <div className=\"centered\">\r\n            <h2>Login</h2>\r\n            <form name=\"form\" onSubmit={this.handleSubmit}>\r\n              <div className={'form-group' + (submitted && !email ? ' has-error' : '')}>\r\n                <label htmlFor=\"email\">Email</label>\r\n                <input id=\"inputEmail\" type=\"text\" className=\"form-control\" name=\"email\" value={email} onChange={this.handleChange} />\r\n                {submitted && !email &&\r\n                  <div className=\"help-block\">Email is required</div>\r\n                }\r\n              </div>\r\n              <div className={'form-group' + (submitted && !password ? ' has-error' : '')}>\r\n                <label htmlFor=\"password\">Password</label>\r\n                <input id=\"inputPassword\" type=\"password\" className=\"form-control\" name=\"password\" value={password} onChange={this.handleChange} />\r\n                {submitted && !password &&\r\n                  <div className=\"help-block\">Password is required</div>\r\n                }\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary\">Login</button>\r\n                {loggingIn &&\r\n                  <img alt=\"\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n                }\r\n                <Link to=\"/register\" className=\"btn btn-link\">Register</Link>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Login = connect(null)(LoginPage);\r\nexport default Login;\r\n  \r\n"]},"metadata":{},"sourceType":"module"}