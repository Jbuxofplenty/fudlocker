{"ast":null,"code":"import _regeneratorRuntime from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/src/views/RecentOrders/RecentOrders.js\";\nimport React, { Component } from 'react';\n\nvar RecentOrders =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RecentOrders, _Component);\n\n  function RecentOrders(props) {\n    var _this;\n\n    _classCallCheck(this, RecentOrders);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RecentOrders).call(this, props));\n    _this.state = {\n      orders: null,\n      org: null,\n      mealsForSale: null,\n      uid: null,\n      total: null\n    };\n    return _this;\n  }\n\n  _createClass(RecentOrders, [{\n    key: \"processData\",\n    value: function processData() {\n      var _this2 = this;\n\n      var sortable = [];\n      Object.entries(this.props.purchased).forEach(function (entry) {\n        var key = entry[0];\n        var value = entry[1];\n        sortable.push([value, _this2.props.purchased[key]['datePurchased']]);\n      });\n      sortable.sort(function (a, b) {\n        return a[1] - b[1];\n      });\n      var tempArray = [];\n      var total = 0.0;\n      var count = 0;\n\n      for (var i = 0; i < sortable.length && count < 10; i++) {\n        if (parseFloat(sortable[i][0]['datePurchased']) > this.props.startDate) {\n          tempArray.push(sortable[i][0]);\n          total += parseFloat(sortable[i][0]['strCost']);\n          count++;\n        }\n      }\n\n      this.setState({\n        total: total\n      });\n      return tempArray;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var orders;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                orders = this.processData();\n                this.setState({\n                  orders: orders\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      return this.state.orders.map(function (order, index) {\n        return React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          className: \"fw-600\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, order.strMeal), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, order.name), \" \"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, order.strDatePurchased.slice(order.strDatePurchased.lastIndexOf(',') + 1, order.strDatePurchased.length)), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"text-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"$\", order.strCost)));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.orders) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"sales-report-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"peers ai-c jc-sb gap-40\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"peer peer-greed\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, this.props.date), React.createElement(\"p\", {\n          className: \"mB-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, \"Order Report\")), React.createElement(\"div\", {\n          className: \"peer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          className: \"text-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"$\", this.state.total)))), React.createElement(\"div\", {\n          className: \"table-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(\"table\", {\n          className: \"table\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          className: \" bdwT-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \"Name\"), React.createElement(\"th\", {\n          className: \" bdwT-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \"Customer\"), React.createElement(\"th\", {\n          className: \" bdwT-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \"Time\"), React.createElement(\"th\", {\n          className: \" bdwT-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, \"Price\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, this.renderItems())), React.createElement(\"div\", {\n          className: \"check-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"http://fudlkr.com\",\n          className: \"check-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \"Check all the sales\"))));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Loading...\");\n    }\n  }]);\n\n  return RecentOrders;\n}(Component);\n\nexport { RecentOrders as default };","map":{"version":3,"sources":["/mnt/c/Users/jbuxofplenty/Github/fudlocker/restaurant_web_app/src/views/RecentOrders/RecentOrders.js"],"names":["React","Component","RecentOrders","props","state","orders","org","mealsForSale","uid","total","sortable","Object","entries","purchased","forEach","entry","key","value","push","sort","a","b","tempArray","count","i","length","parseFloat","startDate","setState","processData","map","order","index","strMeal","name","strDatePurchased","slice","lastIndexOf","strCost","date","renderItems"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nexport default class RecentOrders extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      orders: null,\r\n      org: null,\r\n      mealsForSale: null,\r\n      uid: null,\r\n      total: null,\r\n    };\r\n  }\r\n\r\n  processData() {\r\n    var sortable = [];\r\n    Object.entries(this.props.purchased).forEach(entry => {\r\n      let key = entry[0];\r\n      let value = entry[1];\r\n      sortable.push([value, this.props.purchased[key]['datePurchased']]);\r\n    });\r\n\r\n    sortable.sort(function (a, b) {\r\n      return a[1] - b[1];\r\n    });\r\n\r\n    var tempArray = [];\r\n    var total = 0.0;\n    var count = 0;\r\n    for (var i = 0; i < sortable.length && count < 10; i++) {\n      if (parseFloat(sortable[i][0]['datePurchased']) > this.props.startDate) {\r\n        tempArray.push(sortable[i][0]);\r\n        total += parseFloat(sortable[i][0]['strCost']);\n        count++;\r\n      }\r\n    }\r\n    this.setState({ total });\r\n    return tempArray;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    var orders = this.processData();\r\n    this.setState({ orders });\r\n  }\r\n\r\n  renderItems() {\r\n    return (\r\n      this.state.orders.map((order, index) =>\r\n        <tr key={index}>\r\n          <td className=\"fw-600\">{order.strMeal}</td>\r\n          <td><span>{order.name}</span> </td>\r\n          <td>{order.strDatePurchased.slice(order.strDatePurchased.lastIndexOf(',') + 1, order.strDatePurchased.length)}</td>\r\n          <td><span className=\"text-info\">${order.strCost}</span></td>\r\n        </tr>\r\n      )\r\n    );\r\n  }\r\n\r\n  render() {\r\n    if (this.state.orders) {\r\n      return (\r\n        <div>\r\n          <div className=\"sales-report-container\">\r\n            <div className=\"peers ai-c jc-sb gap-40\">\r\n              <div className=\"peer peer-greed\">\r\n                <h5>{this.props.date}</h5>\r\n                <p className=\"mB-0\">Order Report</p>\r\n              </div>\r\n              <div className=\"peer\">\r\n                <h3 className=\"text-right\">${this.state.total}</h3>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"table-container\">\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\" bdwT-0\">Name</th>\r\n                  <th className=\" bdwT-0\">Customer</th>\r\n                  <th className=\" bdwT-0\">Time</th>\r\n                  <th className=\" bdwT-0\">Price</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {this.renderItems()}\r\n              </tbody>\r\n            </table>\r\n            <div className=\"check-container\">\r\n              <a href=\"http://fudlkr.com\" className=\"check-text\">Check all the sales</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return <div>Loading...</div>;\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}